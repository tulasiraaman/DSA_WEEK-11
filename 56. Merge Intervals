class Solution {
    public int[][] merge(int[][] intervals) {
        List<int[]> result = new ArrayList<>();
        if(intervals == null || intervals.length == 0) return result.toArray(new int[0][]);
        Arrays.sort(intervals, (a, b) -> a[0] - b[0]);

        int start = intervals[0][0];
        int end = intervals[0][1];

        for(int[] cur: intervals){
            if (cur[0] <= end) {
                // Overlap → extend the end
                end = Math.max(end, cur[1]);
            } else {
                // No overlap → push previous interval
                result.add(new int[]{start, end});
                start = cur[0];
                end = cur[1];
            }
        }
        // Add the last interval
        result.add(new int[]{start, end});

        return result.toArray(new int[0][1]);
    } // new int[0][] for jagged arrays
} // TC - O(N log N)
